{% extends "YdleIhmBundle::layout.html.twig" %}

{% block title "Ydle - Nodes" %}

{% block content %}

   <div class="row">
          <div class="col-lg-8 with-border" style="width: 760px; margin-right: 20px;">
            <h2>{{ "node.list.title" | trans({}, "YdleNodesBundle") }}</h2> 
            <table id="sensors">
            <thead>
            <tr>
              <th>{{ "node.list.code" | trans({}, "YdleNodesBundle") }}</th>
              <th>{{ "node.list.name" | trans({}, "YdleNodesBundle") }}</th>
              <th>{{ "node.list.type" | trans({}, "YdleNodesBundle") }}</th>
              <th>{{ "node.list.room" | trans({}, "YdleNodesBundle") }}</th>
              <th>{{ "node.list.active" | trans({}, "YdleNodesBundle") }}</th>
              <th>{{ "title.action" | trans({}, "YdleIhmBundle") }}</th>
            </tr>
            </thead>
            <tbody>
            {% if nodes %}
            {% for node in nodes %}
            <tr>        
               <td>{{ node.code }}</td>
               <td>{{ node.name }}</td>
               <td>
               {% for type in node.types %}
                 <span class="type">{{ type.name }}</span>
               {% endfor %}
               </td>
               <td>{{ node.room.name }}</td>
               <td>{% if node.isactive %}Yes{% else %}{{ "label.no" | trans({}, "YdleIhmBundle") }}{% endif %}</td>
               <td> 
                    <a href="{{ path('nodeEdit', {'node': node.id} ) }}" class="glyphicon glyphicon-pencil"></a>
                    {% if node.isactive %}
                    <a href="{{ path('nodeActivation', {'node': node.id, 'active': 0} ) }}" class="glyphicon glyphicon-pause"></a>
                    {% else %}
                    <a href="{{ path('nodeActivation', {'node': node.id, 'active': 1} ) }}" class="glyphicon glyphicon-play"></a>
                    {% endif %}
                    <a href="{{ path('nodeDelete', {'node': node.id} ) }}" class="glyphicon glyphicon-trash" onclick="return confirm('{{ "node.delete.confirm" | trans({}, "YdleNodesBundle") }}');"></a>     
                    <a href="{{ path('nodeReset', {'node': node.id} ) }}" onclick="return confirm('{{ "node.init.confirm" | trans({}, "YdleNodesBundle") }}');" class="glyphicon glyphicon-flash"></a>     
               </td>
            </tr>
            {% endfor %}
            {% else %}
            <tr>
                <td colspan="7">{{ "node.list.empty" | trans({}, "YdleNodesBundle") }}</td>
            </tr>
            {% endif %}
            </tbody>
            </table>
          </div>   
          <div class="col-lg-4 with-border" style="height: 282px;">
              <div class="content">
                <a href="{{ path('nodeAdd') }}" class="btn btn-default glyphicon glyphicon-plus-sign" >{{ "node.btn.add" | trans({}, "YdleNodesBundle") }}</a>
              </div>
          </div>
        </div>
{% endblock %}
